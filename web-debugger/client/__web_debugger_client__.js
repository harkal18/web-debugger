(()=>{"use strict";const s="API_START_SESSION",e=s=>{try{const t={api:"API_PING_SESSION",data:{sessionId:window.__web_debugger__.sessionId}};o.send(JSON.stringify(t)),setTimeout((()=>{e(s)}),5e3)}catch(s){console.log(s)}},o=new WebSocket("ws://localhost:{PORT}"),t=new class{constructor(s){this.webSocket=s,this.started=!1;try{window.__famenun_logger__=console.log,this.clearLogs(),console.log=(...s)=>{this.addLogs(s),this.sendLogs(s)}}catch(s){console.log(s)}}start(){this.started||(this.started=!0);for(const s of this.getLogs())this.sendLogs(s)}sendLogs(...s){if(this.started){const e={api:"API_SYNC_LOGS",data:{sessionId:window.__web_debugger__.sessionId,log:{type:"LOG",args:s}}};this.webSocket.send(JSON.stringify(e))}}clearLogs(){window.__famenun_logger_logs__=[]}addLogs(...s){window.__famenun_logger_logs__.push(s),window.__famenun_logger__.apply(window.__famenun_logger__,s)}getLogs(){return window.__famenun_logger_logs__}}(o);o.addEventListener("open",(e=>{const t={api:s,data:{userAgent:navigator.userAgent}};o.send(JSON.stringify(t))})),o.addEventListener("message",(n=>{try{const _=JSON.parse(n.data);switch(_.api){case s:console.log(_.data.sessionId),window.__web_debugger__={sessionId:_.data.sessionId},e(o),t.start()}}catch(s){console.log(s)}}))})();